{"version":3,"sources":["p5.collide2d.min.js"],"names":["console","log","p5","prototype","_collideDebug","collideDebug","i","collideRectRect","t","e","o","r","l","n","c","collideRectCircle","p","dist","collideCircleCircle","collidePointCircle","collidePointEllipse","s","d","sqrt","abs","collidePointRect","collidePointLine","collideLineCircle","u","h","pow","y","f","ellipse","collideLineLine","x","collideLineRect","left","right","top","bottom","collidePointPoly","length","collideCirclePoly","collideRectPoly","collideLinePoly","collidePolyPoly","collidePointTriangle","collidePointPoint","collidePointArc","createVector","rotate","copy","sub","dot","angleBetween"],"mappings":"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","file":"p5.collide2d.min.ed10eeef.js","sourceRoot":"../src","sourcesContent":["/*\nRepo: https://github.com/bmoren/p5.collide2D/\nCreated by http://benmoren.com\nSome functions and code modified version from http://www.jeffreythompson.org/collision-detection\nVersion 0.6 | Nov 28th, 2018\nCC BY-NC-SA 4.0\n*/\n\nconsole.log(\"### p5.collide ###\"),p5.prototype._collideDebug=!1,p5.prototype.collideDebug=function(i){_collideDebug=i},p5.prototype.collideRectRect=function(i,t,e,o,r,l,n,c){return i+e>=r&&i<=r+n&&t+o>=l&&t<=l+c},p5.prototype.collideRectCircle=function(i,t,e,o,r,l,n){var c=r,p=l;return r<i?c=i:r>i+e&&(c=i+e),l<t?p=t:l>t+o&&(p=t+o),this.dist(r,l,c,p)<=n/2},p5.prototype.collideCircleCircle=function(i,t,e,o,r,l){return this.dist(i,t,o,r)<=e/2+l/2},p5.prototype.collidePointCircle=function(i,t,e,o,r){return this.dist(i,t,e,o)<=r/2},p5.prototype.collidePointEllipse=function(i,t,e,o,r,l){var n=r/2,c=l/2;if(i>e+n||i<e-n||t>o+c||t<o-c)return!1;var p=i-e,s=t-o,d=c*this.sqrt(this.abs(n*n-p*p))/n;return s<=d&&s>=-d},p5.prototype.collidePointRect=function(i,t,e,o,r,l){return i>=e&&i<=e+r&&t>=o&&t<=o+l},p5.prototype.collidePointLine=function(i,t,e,o,r,l,n){var c=this.dist(i,t,e,o),p=this.dist(i,t,r,l),s=this.dist(e,o,r,l);return void 0===n&&(n=.1),c+p>=s-n&&c+p<=s+n},p5.prototype.collideLineCircle=function(i,t,e,o,r,l,n){var c=this.collidePointCircle(i,t,r,l,n),p=this.collidePointCircle(e,o,r,l,n);if(c||p)return!0;var s=i-e,d=t-o,u=this.sqrt(s*s+d*d),h=((r-i)*(e-i)+(l-t)*(o-t))/this.pow(u,2),y=i+h*(e-i),f=t+h*(o-t);return!!this.collidePointLine(y,f,i,t,e,o)&&(this._collideDebug&&this.ellipse(y,f,10,10),s=y-r,d=f-l,this.sqrt(s*s+d*d)<=n/2)},p5.prototype.collideLineLine=function(i,t,e,o,r,l,n,c,p){var s=((n-r)*(t-l)-(c-l)*(i-r))/((c-l)*(e-i)-(n-r)*(o-t)),d=((e-i)*(t-l)-(o-t)*(i-r))/((c-l)*(e-i)-(n-r)*(o-t));if(s>=0&&s<=1&&d>=0&&d<=1){if(this._collideDebug||p)var u=i+s*(e-i),h=t+s*(o-t);return this._collideDebug&&this.ellipse(u,h,10,10),!p||{x:u,y:h}}return!!p&&{x:!1,y:!1}},p5.prototype.collideLineRect=function(i,t,e,o,r,l,n,c,p){var s,d,u,h,y;return p?(s=this.collideLineLine(i,t,e,o,r,l,r,l+c,!0),d=this.collideLineLine(i,t,e,o,r+n,l,r+n,l+c,!0),u=this.collideLineLine(i,t,e,o,r,l,r+n,l,!0),h=this.collideLineLine(i,t,e,o,r,l+c,r+n,l+c,!0),y={left:s,right:d,top:u,bottom:h}):(s=this.collideLineLine(i,t,e,o,r,l,r,l+c),d=this.collideLineLine(i,t,e,o,r+n,l,r+n,l+c),u=this.collideLineLine(i,t,e,o,r,l,r+n,l),h=this.collideLineLine(i,t,e,o,r,l+c,r+n,l+c)),!!(s||d||u||h)&&(!p||y)},p5.prototype.collidePointPoly=function(i,t,e){for(var o=!1,r=0,l=0;l<e.length;l++){r=l+1,r==e.length&&(r=0);var n=e[l],c=e[r];(n.y>t&&c.y<t||n.y<t&&c.y>t)&&i<(c.x-n.x)*(t-n.y)/(c.y-n.y)+n.x&&(o=!o)}return o},p5.prototype.collideCirclePoly=function(i,t,e,o,r){void 0==r&&(r=!1);for(var l=0,n=0;n<o.length;n++){l=n+1,l==o.length&&(l=0);var c=o[n],p=o[l];if(this.collideLineCircle(c.x,c.y,p.x,p.y,i,t,e))return!0}if(1==r){if(this.collidePointPoly(i,t,o))return!0}return!1},p5.prototype.collideRectPoly=function(i,t,e,o,r,l){void 0==l&&(l=!1);for(var n=0,c=0;c<r.length;c++){n=c+1,n==r.length&&(n=0);var p=r[c],s=r[n];if(this.collideLineRect(p.x,p.y,s.x,s.y,i,t,e,o))return!0;if(1==l){if(this.collidePointPoly(i,t,r))return!0}}return!1},p5.prototype.collideLinePoly=function(i,t,e,o,r){for(var l=0,n=0;n<r.length;n++){l=n+1,l==r.length&&(l=0);var c=r[n].x,p=r[n].y,s=r[l].x,d=r[l].y;if(this.collideLineLine(i,t,e,o,c,p,s,d))return!0}return!1},p5.prototype.collidePolyPoly=function(i,t,e){void 0==e&&(e=!1);for(var o=0,r=0;r<i.length;r++){o=r+1,o==i.length&&(o=0);var l=i[r],n=i[o],c=this.collideLinePoly(l.x,l.y,n.x,n.y,t);if(c)return!0;if(1==e&&(c=this.collidePointPoly(t[0].x,t[0].y,i)))return!0}return!1},p5.prototype.collidePointTriangle=function(i,t,e,o,r,l,n,c){var p=this.abs((r-e)*(c-o)-(n-e)*(l-o));return this.abs((e-i)*(l-t)-(r-i)*(o-t))+this.abs((r-i)*(c-t)-(n-i)*(l-t))+this.abs((n-i)*(o-t)-(e-i)*(c-t))==p},p5.prototype.collidePointPoint=function(i,t,e,o,r){return void 0==r&&(r=0),this.dist(i,t,e,o)<=r},p5.prototype.collidePointArc=function(i,t,e,o,r,l,n,c){void 0==c&&(c=0);var p=this.createVector(i,t),s=this.createVector(e,o),d=this.createVector(r,0).rotate(l),u=p.copy().sub(s);if(p.dist(s)<=r+c){var h=d.dot(u),y=d.angleBetween(u);if(h>0&&y<=n/2&&y>=-n/2)return!0}return!1};\n"]}